{{#> body }}
<script>
  function requestName(event){
    const name = prompt('New participant name')
    if(name==null) return event.preventDefault();
    document.querySelector('input[name=participant]').value = name
  }
</script>

<header>
  <h1>Settings</h1>
  <span>{{project.name}}</span>
</header>
<div class="flex justify-between">
  <a href="/project/{{project.id}}/balance" class="link">Back</a>
</div>
<div>
  Participants:
  <ul class="grid pl-4 gap-2 pt-2">
    {{#each project.participants}}
    <label class="flex gap-4 items-center">
      <input name="me" value="{{this}}" type="radio" class="radio radio-sm"/>
      {{this}}
    </label>
    {{else}}
    (no participants)
    {{/each}}
    <form action="/project/{{project.id}}/participant" method="post" onsubmit="requestName(event)">
      <input name="participant" type="hidden"/>
      <button class="link">Add a participant</button>
    </form>
</ul>
</div>
<hr></hr>
<form action="/project/{{project.id}}/settings" method="post">
  <label>
    <span class="label label-text">Currency</span>
    <select name="currency" class="select select-bordered" onchange="event.target.form.submit()">
      {{#each currencies}}
      <option value="{{this}}" {{#ifEq this ../project.currency}}selected=""{{/ifEq}}>{{this}}</option>
      {{/each}}
    </select>
  </label>
</form>
{{/body}}